<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Signature Panel</title>
<style>
    #signature-pad {
        border: 2px solid #000;
        width: 300px;
        height: 200px;
    }
</style>
</head>
<body>
<div id="signature-pad">
    <canvas id="canvas" width="300" height="200"></canvas>
</div>
<div>
    <button id="clear-button">Clear</button>
    <button id="save-button">Save</button>
    <input type="color" id="color-picker" value="#000000">
    <input type="range" id="stroke-width-slider" min="1" max="10" value="2">
</div>

<script>
    // Get the canvas element and its context
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    
    // Set up event listeners
    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('mouseup', endDrawing);
    canvas.addEventListener('mouseout', endDrawing);
    canvas.addEventListener('touchstart', startDrawing);
    canvas.addEventListener('touchmove', draw);
    canvas.addEventListener('touchend', endDrawing);
    
    // Variables to track drawing state
    var isDrawing = false;
    var lastX = 0;
    var lastY = 0;
    
    function startDrawing(e) {
        isDrawing = true;
        [lastX, lastY] = [e.offsetX || e.touches[0].clientX, e.offsetY || e.touches[0].clientY];
    }
    
    function draw(e) {
        if (!isDrawing) return;
        ctx.strokeStyle = document.getElementById('color-picker').value;
        ctx.lineWidth = document.getElementById('stroke-width-slider').value;
        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        [lastX, lastY] = [e.offsetX || e.touches[0].clientX, e.offsetY || e.touches[0].clientY];
        ctx.lineTo(lastX, lastY);
        ctx.stroke();
    }
    
    function endDrawing() {
        isDrawing = false;
    }
    
    // Function to clear the canvas
    document.getElementById('clear-button').addEventListener('click', function() {
        if (confirm('Are you sure you want to clear the signature?')) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
    });
    
    // Function to save the signature as an image
    document.getElementById('save-button').addEventListener('click', function() {
        var dataURL = canvas.toDataURL(); // Convert canvas content to base64-encoded PNG image
        var link = document.createElement('a');
        link.href = dataURL;
        link.download = 'signature.png'; // Specify the filename for the downloaded image
        link.click();
    });
</script>
</body>
</html>
